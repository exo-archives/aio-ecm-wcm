Index: portlets/formgenerator/src/main/java/org/exoplatform/wcm/webui/fastcontentcreator/UIFCCPortlet.java
===================================================================
--- portlets/formgenerator/src/main/java/org/exoplatform/wcm/webui/fastcontentcreator/UIFCCPortlet.java	(revision 50731)
+++ portlets/formgenerator/src/main/java/org/exoplatform/wcm/webui/fastcontentcreator/UIFCCPortlet.java	(working copy)
@@ -16,6 +16,8 @@
  */
 package org.exoplatform.wcm.webui.fastcontentcreator;
 
+import java.util.Calendar;
+
 import javax.portlet.PortletMode;
 import javax.portlet.PortletPreferences;
 
@@ -53,7 +55,8 @@
     context.getJavascriptManager().importJavascript("eXo.ecm.ECMUtils","/ecm/javascript/");
     context.getJavascriptManager().addJavascript("eXo.ecm.ECMUtils.init('UIFastContentCreatorPortlet') ;");
     PortletRequestContext portletRequestContext = (PortletRequestContext)  context ;
-    addChild(UIPopupContainer.class, null, null);
+    Calendar lCDateTime = Calendar.getInstance();
+    addChild(UIPopupContainer.class, null, "UIPopupContainer-" + lCDateTime.getTimeInMillis());
     if (portletRequestContext.getApplicationMode() == PortletMode.VIEW) {
       if(getChild(UIFCCConfig.class) != null) {
         removeChild(UIFCCConfig.class) ;
Index: portlets/presentation/src/main/java/org/exoplatform/wcm/webui/clv/UICLVPortlet.java
===================================================================
--- portlets/presentation/src/main/java/org/exoplatform/wcm/webui/clv/UICLVPortlet.java	(revision 50731)
+++ portlets/presentation/src/main/java/org/exoplatform/wcm/webui/clv/UICLVPortlet.java	(working copy)
@@ -16,19 +16,11 @@
  */
 package org.exoplatform.wcm.webui.clv;
 
-import java.util.ArrayList;
-import java.util.List;
+import java.util.Calendar;
 
 import javax.portlet.PortletMode;
 import javax.portlet.PortletPreferences;
 
-import org.exoplatform.portal.application.Preference;
-import org.exoplatform.portal.config.DataStorage;
-import org.exoplatform.portal.config.model.PortalConfig;
-import org.exoplatform.portal.webui.util.Util;
-import org.exoplatform.services.portletcontainer.pci.ExoWindowID;
-import org.exoplatform.services.wcm.core.WCMConfigurationService;
-import org.exoplatform.services.wcm.utils.WCMCoreUtils;
 import org.exoplatform.wcm.webui.Utils;
 import org.exoplatform.wcm.webui.clv.config.UICLVConfig;
 import org.exoplatform.webui.application.WebuiApplication;
@@ -143,17 +135,18 @@
    */
   private void activateMode(PortletMode mode) throws Exception {
     getChildren().clear();
-    addChild(UIPopupContainer.class, null, null);
+    Calendar lCDateTime = Calendar.getInstance();
+    addChild(UIPopupContainer.class, null, "UIPopupContainer-" + lCDateTime.getTimeInMillis());
     PortletRequestContext context = WebuiRequestContext.getCurrentInstance();
     PortletPreferences preferences = context.getRequest().getPreferences();
     String viewerMode = preferences.getValue(VIEWER_MODE, null);        
     if (PortletMode.VIEW.equals(mode)) {
       if (viewerMode == null) viewerMode = UICLVConfig.VIEWER_AUTO_MODE;
       if (viewerMode.equals(UICLVConfig.VIEWER_AUTO_MODE)) {        
-        UICLVFolderMode uiFolderViewer = addChild(UICLVFolderMode.class, null, UIPortletApplication.VIEW_MODE);
+        UICLVFolderMode uiFolderViewer = addChild(UICLVFolderMode.class, null, UIPortletApplication.VIEW_MODE+"-" +lCDateTime.getTimeInMillis());
         uiFolderViewer.init(); 
       } else if (viewerMode.equals(UICLVConfig.VIEWER_MANUAL_MODE)) {        
-        UICLVManualMode uiCorrectContentsViewer = addChild(UICLVManualMode.class, null, UIPortletApplication.VIEW_MODE);
+        UICLVManualMode uiCorrectContentsViewer = addChild(UICLVManualMode.class, null, UIPortletApplication.VIEW_MODE+"-" + lCDateTime.getTimeInMillis());
         uiCorrectContentsViewer.init();
       }
     } else if (PortletMode.EDIT.equals(mode)) {
Index: portlets/presentation/src/main/java/org/exoplatform/wcm/webui/pclv/UIPCLVPortlet.java
===================================================================
--- portlets/presentation/src/main/java/org/exoplatform/wcm/webui/pclv/UIPCLVPortlet.java	(revision 50731)
+++ portlets/presentation/src/main/java/org/exoplatform/wcm/webui/pclv/UIPCLVPortlet.java	(working copy)
@@ -16,6 +16,8 @@
  */
 package org.exoplatform.wcm.webui.pclv;
 
+import java.util.Calendar;
+
 import javax.portlet.PortletMode;
 
 import org.exoplatform.wcm.webui.pclv.config.UIPCLVConfig;
@@ -145,7 +147,8 @@
 	 */
 	private void activateMode(PortletMode mode) throws Exception {
 		getChildren().clear();
-		addChild(UIPopupContainer.class, null, null);
+		Calendar lCDateTime = Calendar.getInstance();
+		addChild(UIPopupContainer.class, null, "UIPopupContainer-" + lCDateTime.getTimeInMillis());
 		if (PortletMode.VIEW.equals(mode)) {
       UIPCLVContainer container = addChild(UIPCLVContainer.class, null, null);
       container.init();
Index: portlets/presentation/src/main/java/org/exoplatform/wcm/webui/pcv/UIPCVPortlet.java
===================================================================
--- portlets/presentation/src/main/java/org/exoplatform/wcm/webui/pcv/UIPCVPortlet.java	(revision 50731)
+++ portlets/presentation/src/main/java/org/exoplatform/wcm/webui/pcv/UIPCVPortlet.java	(working copy)
@@ -16,6 +16,8 @@
  */
 package org.exoplatform.wcm.webui.pcv;
 
+import java.util.Calendar;
+
 import javax.portlet.PortletMode;
 
 import org.exoplatform.wcm.webui.Utils;
@@ -79,9 +81,10 @@
    */
   public void activateMode(PortletMode mode) throws Exception {
   	getChildren().clear();
-		addChild(UIPopupContainer.class, null, null);
-		if (PortletMode.VIEW.equals(mode)) {
-			addChild(UIPCVContainer.class, null, null);
+  	Calendar lCDateTime = Calendar.getInstance();		
+	addChild(UIPopupContainer.class, null, "UIPopupContainer-" + lCDateTime.getTimeInMillis());
+	if (PortletMode.VIEW.equals(mode)) {
+		addChild(UIPCVContainer.class, null, null);
     } else if (PortletMode.EDIT.equals(mode)) {
     	addChild(UIPCVConfig.class, null, null);
     }
Index: portlets/presentation/src/main/java/org/exoplatform/wcm/webui/scv/UISingleContentViewerPortlet.java
===================================================================
--- portlets/presentation/src/main/java/org/exoplatform/wcm/webui/scv/UISingleContentViewerPortlet.java	(revision 50731)
+++ portlets/presentation/src/main/java/org/exoplatform/wcm/webui/scv/UISingleContentViewerPortlet.java	(working copy)
@@ -16,6 +16,8 @@
  */
 package org.exoplatform.wcm.webui.scv;
 
+import java.util.Calendar;
+
 import javax.jcr.Node;
 import javax.portlet.PortletMode;
 import javax.portlet.PortletPreferences;
@@ -75,8 +77,9 @@
    * 
    * @throws Exception the exception
    */
-  public void activateMode(PortletMode mode) throws Exception {       
-    addChild(UIPopupContainer.class, null, null);
+  public void activateMode(PortletMode mode) throws Exception {   
+	Calendar lCDateCalendar = Calendar.getInstance();  
+    addChild(UIPopupContainer.class, null, "UIPopupContainer-" + lCDateCalendar.getTimeInMillis());
     if(PortletMode.VIEW.equals(mode)) {      
     	if (getChild(UIPresentationContainer.class) == null) addChild(UIPresentationContainer.class, null, null);                   
     } else if (PortletMode.EDIT.equals(mode)) {
Index: portlets/presentation/src/main/java/org/exoplatform/wcm/webui/category/UICategoryNavigationPortlet.java
===================================================================
--- portlets/presentation/src/main/java/org/exoplatform/wcm/webui/category/UICategoryNavigationPortlet.java	(revision 50731)
+++ portlets/presentation/src/main/java/org/exoplatform/wcm/webui/category/UICategoryNavigationPortlet.java	(working copy)
@@ -1,5 +1,5 @@
 /*
- * Copyright (C) 2003-2009 eXo Platform SAS.
+* Copyright (C) 2003-2009 eXo Platform SAS.
  *
  * This program is free software; you can redistribute it and/or
  * modify it under the terms of the GNU Affero General Public License
@@ -16,6 +16,8 @@
  */
 package org.exoplatform.wcm.webui.category;
 
+import java.util.Calendar;
+
 import javax.portlet.PortletMode;
 
 import org.exoplatform.wcm.webui.category.config.UICategoryNavigationConfig;
@@ -59,7 +61,8 @@
    */
   public void activateMode(PortletMode mode) throws Exception {
     getChildren().clear();
-    addChild(UIPopupContainer.class, null, null);
+    Calendar lCDateTime = Calendar.getInstance();
+    addChild(UIPopupContainer.class, null, "UIPopupContainer-" + lCDateTime.getTimeInMillis());
     if (PortletMode.VIEW.equals(mode)) {
       addChild(UICategoryNavigationTree.class, null, null);
     } else if (PortletMode.EDIT.equals(mode)) {
Index: portlets/newsletter/src/main/java/org/exoplatform/wcm/webui/newsletter/manager/UINewsletterManagerPortlet.java
===================================================================
--- portlets/newsletter/src/main/java/org/exoplatform/wcm/webui/newsletter/manager/UINewsletterManagerPortlet.java	(revision 50731)
+++ portlets/newsletter/src/main/java/org/exoplatform/wcm/webui/newsletter/manager/UINewsletterManagerPortlet.java	(working copy)
@@ -16,6 +16,8 @@
  */
 package org.exoplatform.wcm.webui.newsletter.manager;
 
+import java.util.Calendar;
+
 import org.exoplatform.webui.config.annotation.ComponentConfig;
 import org.exoplatform.webui.core.UIPopupContainer;
 import org.exoplatform.webui.core.UIPortletApplication;
@@ -77,6 +79,7 @@
 	  addChild(UICategories.class, null, null).setRendered(isRenderUICategories);
 	  addChild(UISubscriptions.class, null, null).setRendered(isRenderUICategories);
 		addChild(UINewsletterEntryManager.class, null, null).setRendered(isRenderUINewsLetters);
-		addChild(UIPopupContainer.class, null, null);
+		Calendar lCDateTime = Calendar.getInstance();
+		addChild(UIPopupContainer.class, null, "UIPopupContainer-"+ lCDateTime.getTimeInMillis());
 	}
 }
Index: portlets/searches/src/main/java/org/exoplatform/wcm/webui/search/UIWCMSearchPortlet.java
===================================================================
--- portlets/searches/src/main/java/org/exoplatform/wcm/webui/search/UIWCMSearchPortlet.java	(revision 50731)
+++ portlets/searches/src/main/java/org/exoplatform/wcm/webui/search/UIWCMSearchPortlet.java	(working copy)
@@ -11,6 +11,9 @@
  */
 package org.exoplatform.wcm.webui.search;
 
+import java.util.Calendar;
+import java.util.Date;
+
 import javax.portlet.PortletMode;
 
 import org.exoplatform.wcm.webui.search.config.UIPortletConfig;
@@ -95,10 +98,11 @@
 	private void activateMode(PortletMode mode) throws Exception {
 		getChildren().clear();
 		addChild(UIPopupContainer.class, null, "UISearchedContentEdittingPopup");
+		Calendar lCDateCalendar = Calendar.getInstance();
 		if (PortletMode.VIEW.equals(mode)) {
-				addChild(UISearchPageLayout.class, null, UIPortletApplication.VIEW_MODE);
+				addChild(UISearchPageLayout.class, null, UIPortletApplication.VIEW_MODE + "-" + lCDateCalendar.getTimeInMillis());
 		} else if (PortletMode.EDIT.equals(mode)) {
-			addChild(UIPortletConfig.class, null, UIPortletApplication.EDIT_MODE);
+			addChild(UIPortletConfig.class, null, UIPortletApplication.EDIT_MODE + "-" + lCDateCalendar.getTimeInMillis());
 		}
 	}
 }
Index: web/wcmportal/src/main/webapp/groovy/webui/form/ext/UIFormInputSetWithAction.gtmpl
===================================================================
--- web/wcmportal/src/main/webapp/groovy/webui/form/ext/UIFormInputSetWithAction.gtmpl	(revision 50731)
+++ web/wcmportal/src/main/webapp/groovy/webui/form/ext/UIFormInputSetWithAction.gtmpl	(working copy)
@@ -49,7 +49,7 @@
 	                   															<div class="InforField">
 	                     															<span class="ActionField"><%=listInfor[j]%></span>  
 	                 																<a href="javascript:eXo.webui.UIForm.submitEvent('<%=formName%>', '<%=actionInfo[0]%>', '&objectId=<%=j%>');" onclick="return confirm('<%=confirm%>');">
-	                    																<img class="DeleteIconInfo" src="/eXoResources/skin/DefaultSkin/background/Blank.gif" alt="">
+	                    																<img class="DeleteIconInfo" src="/eXoResources/skin/DefaultSkin/background/Blank.gif" alt="" />
 	                 																</a>
 	                   															</div> 
 	              															<%
Index: web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/DocumentsTemplate.gtmpl
===================================================================
--- web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/DocumentsTemplate.gtmpl	(revision 50731)
+++ web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/DocumentsTemplate.gtmpl	(working copy)
@@ -10,9 +10,13 @@
 		import org.exoplatform.wcm.webui.paginator.UICustomizeablePaginator;
 		import org.exoplatform.wcm.webui.clv.UICLVPortlet;
 		import org.exoplatform.wcm.webui.Utils;
+		import java.util.Calendar;
+		
+		Calendar lCDateCalendar = Calendar.getInstance();
+		def timeCreated = lCDateCalendar.getTimeInMillis();
 %>
 
-<div id="$uicomponent.id" class="DocumentsCLVTemplate">
+<div id="$uicomponent.id-$timeCreated" class="DocumentsCLVTemplate">
 	<div class="CLV">
 		<%
 			def header = uicomponent.getHeader();
Index: web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/OneColumnCLVTemplate.gtmpl
===================================================================
--- web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/OneColumnCLVTemplate.gtmpl	(revision 50731)
+++ web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/OneColumnCLVTemplate.gtmpl	(working copy)
@@ -10,9 +10,13 @@
 		import org.exoplatform.wcm.webui.paginator.UICustomizeablePaginator;
 		import org.exoplatform.wcm.webui.clv.UICLVPortlet;
 		import org.exoplatform.wcm.webui.Utils;
+		import java.util.Calendar;
+		
+		Calendar lCDateCalendar = Calendar.getInstance();
+		def timeCreated = lCDateCalendar.getTimeInMillis();
 %>
 
-<div id="$uicomponent.id" class="OneColumnCLVTemplate">
+<div id="$uicomponent.id-$timeCreated" class="OneColumnCLVTemplate">
 	<div class="CLV">
 		<%
 			def header = uicomponent.getHeader();
Index: web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/UIContentListPresentationBigImage.gtmpl
===================================================================
--- web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/UIContentListPresentationBigImage.gtmpl	(revision 50731)
+++ web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/UIContentListPresentationBigImage.gtmpl	(working copy)
@@ -3,9 +3,13 @@
 	import org.exoplatform.wcm.webui.paginator.UICustomizeablePaginator;
 	import org.exoplatform.wcm.webui.clv.UICLVPortlet;
 	import org.exoplatform.wcm.webui.Utils;
+	import java.util.Calendar;
+		
+	Calendar lCDateCalendar = Calendar.getInstance();
+	def timeCreated = lCDateCalendar.getTimeInMillis();
 %>
 
-<div id="$uicomponent.id" class="UICLVPresentation">
+<div id="$uicomponent.id-$timeCreated" class="UICLVPresentation">
 	<%	
 		String header = uicomponent.getHeader();
 		if (uicomponent.isShowHeader() && header != null && header.trim().length() != 0 ) {
Index: web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/UIContentListPresentationDefault.gtmpl
===================================================================
--- web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/UIContentListPresentationDefault.gtmpl	(revision 50731)
+++ web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/UIContentListPresentationDefault.gtmpl	(working copy)
@@ -3,8 +3,12 @@
 	import org.exoplatform.wcm.webui.paginator.UICustomizeablePaginator;
 	import org.exoplatform.wcm.webui.clv.UICLVPortlet;
 	import org.exoplatform.wcm.webui.Utils;
+	import java.util.Calendar;
+		
+	Calendar lCDateCalendar = Calendar.getInstance();
+	def timeCreated = lCDateCalendar.getTimeInMillis();
 %>
-<div id="$uicomponent.id" class="UICLVPresentation">
+<div id="$uicomponent.id-$timeCreated" class="UICLVPresentation">
 	<%	
 		String header = uicomponent.getHeader();
 		if (uicomponent.isShowHeader() && header != null && header.trim().length() != 0 ) {
Index: web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/UIContentListPresentationSmall.gtmpl
===================================================================
--- web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/UIContentListPresentationSmall.gtmpl	(revision 50731)
+++ web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/UIContentListPresentationSmall.gtmpl	(working copy)
@@ -3,9 +3,13 @@
 	import org.exoplatform.wcm.webui.paginator.UICustomizeablePaginator;
 	import org.exoplatform.wcm.webui.clv.UICLVPortlet;
 	import org.exoplatform.wcm.webui.Utils;
+	import java.util.Calendar;
+		
+	Calendar lCDateCalendar = Calendar.getInstance();
+	def timeCreated = lCDateCalendar.getTimeInMillis();
 %>
 
-<div id="$uicomponent.id" class="UICLVPresentation">
+<div id="$uicomponent.id-$timeCreated" class="UICLVPresentation">
 	<%	
 		String header = uicomponent.getHeader();
 		if (uicomponent.isShowHeader() && header != null && header.trim().length() != 0 ) {
Index: web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/TwoColumnsCLVTemplate.gtmpl
===================================================================
--- web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/TwoColumnsCLVTemplate.gtmpl	(revision 50731)
+++ web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/application-templates/content-list-viewer/list-by-folder/TwoColumnsCLVTemplate.gtmpl	(working copy)
@@ -10,9 +10,13 @@
 		import org.exoplatform.wcm.webui.paginator.UICustomizeablePaginator;
 		import org.exoplatform.wcm.webui.clv.UICLVPortlet;
 		import org.exoplatform.wcm.webui.Utils;
+		import java.util.Calendar;
+		
+		Calendar lCDateCalendar = Calendar.getInstance();
+		def timeCreated = lCDateCalendar.getTimeInMillis();
 %>
 
-<div id="$uicomponent.id" class="TwoColumnsCLVTemplate">
+<div id="$uicomponent.id-$timeCreated" class="TwoColumnsCLVTemplate">
 	<div class="CLV">
 		<%
 			def header = uicomponent.getHeader();
Index: web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/pictureOnHeadWebContent/dialogs/dialog1.gtmpl
===================================================================
--- web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/pictureOnHeadWebContent/dialogs/dialog1.gtmpl	(revision 50731)
+++ web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/pictureOnHeadWebContent/dialogs/dialog1.gtmpl	(working copy)
@@ -7,7 +7,7 @@
 	def rcontext = _ctx.getRequestContext() ;
 	rcontext.getJavascriptManager().importJavascript('eXo.webui.UIHorizontalTabs');
 	def String htmlWYSIWYGFormId = "htmlData[" + uicomponent.hashCode() + "]";
-	def String cssFormId = "ContentCSS[" + uicomponent.hashCode() + "]";
+	def String cssFormId = "ContentCSS-" + uicomponent.hashCode();
 	def String jsFormId = "ContentJS[" + uicomponent.hashCode() + "]";
 	//rcontext.getJavascriptManager().importJavascript('eXo.wcm.Util' , "/eXoWCMResources/javascript");
 	rcontext.getJavascriptManager().addOnLoadJavascript("wcm.insertCSSFromTextArea2FCK('" + htmlWYSIWYGFormId + "', '" + cssFormId + "')");
Index: web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/webContent/dialogs/dialog1.gtmpl
===================================================================
--- web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/webContent/dialogs/dialog1.gtmpl	(revision 50731)
+++ web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/webContent/dialogs/dialog1.gtmpl	(working copy)
@@ -3,7 +3,7 @@
 	def rcontext = _ctx.getRequestContext() ;
 	rcontext.getJavascriptManager().importJavascript('eXo.webui.UIHorizontalTabs');
 	def String htmlWYSIWYGFormId = "htmlData[" + uicomponent.hashCode() + "]";
-	def String cssFormId = "ContentCSS[" + uicomponent.hashCode() + "]";
+	def String cssFormId = "ContentCSS-" + uicomponent.hashCode();
 	def String jsFormId = "ContentJS[" + uicomponent.hashCode() + "]";
 	//rcontext.getJavascriptManager().importJavascript('eXo.wcm.Util' , "/eXoWCMResources/javascript");
 	rcontext.getJavascriptManager().addOnLoadJavascript("wcm.insertCSSFromTextArea2FCK('" + htmlWYSIWYGFormId + "', '" + cssFormId + "')");
Index: web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/siteBreadcrumb/dialogs/dialog1.gtmpl
===================================================================
--- web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/siteBreadcrumb/dialogs/dialog1.gtmpl	(revision 50731)
+++ web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/siteBreadcrumb/dialogs/dialog1.gtmpl	(working copy)
@@ -5,7 +5,7 @@
 	def docBase = Util.getPortalRequestContext().getRequestContextPath();
 	rcontext.getJavascriptManager().importJavascript('eXo.webui.UIHorizontalTabs');
 	def String htmlWYSIWYGFormId = "htmlData[" + uicomponent.hashCode() + "]";
-	def String cssFormId = "ContentCSS[" + uicomponent.hashCode() + "]";
+	def String cssFormId = "ContentCSS-" + uicomponent.hashCode();
 	def String jsFormId = "ContentJS[" + uicomponent.hashCode() + "]";
 	//rcontext.getJavascriptManager().importJavascript('eXo.wcm.Util' , "/eXoWCMResources/javascript");
 	rcontext.getJavascriptManager().addOnLoadJavascript("wcm.insertCSSFromTextArea2FCK('" + htmlWYSIWYGFormId + "', '" + cssFormId + "')");
Index: web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/siteSearchBoxWebContent/dialogs/dialog1.gtmpl
===================================================================
--- web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/siteSearchBoxWebContent/dialogs/dialog1.gtmpl	(revision 50731)
+++ web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/siteSearchBoxWebContent/dialogs/dialog1.gtmpl	(working copy)
@@ -3,7 +3,7 @@
 	def rcontext = _ctx.getRequestContext() ;
 	rcontext.getJavascriptManager().importJavascript('eXo.webui.UIHorizontalTabs');
 	def String htmlWYSIWYGFormId = "htmlData[" + uicomponent.hashCode() + "]";
-	def String cssFormId = "ContentCSS[" + uicomponent.hashCode() + "]";
+	def String cssFormId = "ContentCSS-" + uicomponent.hashCode();
 	def String jsFormId = "ContentJS[" + uicomponent.hashCode() + "]";
 	//rcontext.getJavascriptManager().importJavascript('eXo.wcm.Util' , "/eXoWCMResources/javascript");
 	rcontext.getJavascriptManager().addOnLoadJavascript("wcm.insertCSSFromTextArea2FCK('" + htmlWYSIWYGFormId + "', '" + cssFormId + "')");
Index: web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/siteNavigationWebContent/dialogs/dialog1.gtmpl
===================================================================
--- web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/siteNavigationWebContent/dialogs/dialog1.gtmpl	(revision 50731)
+++ web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/nodetypes-templates/siteNavigationWebContent/dialogs/dialog1.gtmpl	(working copy)
@@ -3,7 +3,7 @@
 	def rcontext = _ctx.getRequestContext() ;
 	rcontext.getJavascriptManager().importJavascript('eXo.webui.UIHorizontalTabs');
 	def String htmlWYSIWYGFormId = "htmlData[" + uicomponent.hashCode() + "]";
-	def String cssFormId = "ContentCSS[" + uicomponent.hashCode() + "]";
+	def String cssFormId = "ContentCSS-" + uicomponent.hashCode();
 	def String jsFormId = "ContentJS[" + uicomponent.hashCode() + "]";
 	//rcontext.getJavascriptManager().importJavascript('eXo.wcm.Util' , "/eXoWCMResources/javascript");
 	rcontext.getJavascriptManager().addOnLoadJavascript("wcm.insertCSSFromTextArea2FCK('" + htmlWYSIWYGFormId + "', '" + cssFormId + "')");
Index: web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/site-resources/acme/Navigation.xml
===================================================================
--- web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/site-resources/acme/Navigation.xml	(revision 50731)
+++ web/wcmportal/src/main/webapp/WEB-INF/conf/wcm/artifacts/site-resources/acme/Navigation.xml	(working copy)
@@ -1 +1 @@
-<?xml version="1.0" encoding="UTF-8"?><sv:node xmlns:nt="http://www.jcp.org/jcr/nt/1.0" xmlns:kfx="http://www.exoplatform.com/jcr/kfx/1.1/" xmlns:Fwd="http://www.exoplatform.com/jcr/Fwd/1.1/" xmlns:publication="http://www.exoplatform.com/jcr/publication/1.1/" xmlns:rep="internal" xmlns:rma="http://www.rma.com/jcr/" xmlns:Re="http://www.exoplatform.com/jcr/Re/1.1/" xmlns:metadata="http://www.exoplatform.com/jcr/metadata/1.1/" xmlns:sv="http://www.jcp.org/jcr/sv/1.0" xmlns:mix="http://www.jcp.org/jcr/mix/1.0" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:fn_old="http://www.w3.org/2004/10/xpath-functions" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:webdav="http://www.exoplatform.org/jcr/webdav" xmlns:exo="http://www.exoplatform.com/jcr/exo/1.0" sv:name="Navigation"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>exo:webContent</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>exo:linkable</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="jcr:uuid" sv:type="String"><sv:value>38feb7467f000001005583765fa59bda</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:20.339+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-31T14:52:10.233+07:00</sv:value></sv:property><sv:property sv:name="exo:links" sv:type="String"><sv:value></sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:title" sv:type="String"><sv:value>ACME Navigation</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:created" sv:type="Date"><sv:value>2009-08-21T01:08:20.313+07:00</sv:value></sv:property><sv:property sv:name="jcr:isCheckedOut" sv:type="String"><sv:value>true</sv:value></sv:property><sv:node sv:name="js"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>exo:jsFolder</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:20.410+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:08:20.417+07:00</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:created" sv:type="Date"><sv:value>2009-08-21T01:08:20.378+07:00</sv:value></sv:property><sv:node sv:name="default.js"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:file</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:jsFile</sv:value><sv:value>exo:datetime</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="jcr:uuid" sv:type="String"><sv:value>38feb7d17f00000100b381629949657a</sv:value></sv:property><sv:property sv:name="exo:active" sv:type="Boolean"><sv:value>true</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:20.534+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-11-26T13:52:42.281+07:00</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:presentationType" sv:type="String"><sv:value>exo:jsFile</sv:value></sv:property><sv:property sv:name="exo:priority" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:created" sv:type="Date"><sv:value>2009-08-21T01:08:20.445+07:00</sv:value></sv:property><sv:node sv:name="jcr:content"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:resource</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>dc:elementSet</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value><sv:value>exo:jsFile</sv:value></sv:property><sv:property sv:name="jcr:uuid" sv:type="String"><sv:value>38feb84d7f0000010063d9cde17eb4fd</sv:value></sv:property><sv:property sv:name="exo:active" sv:type="Boolean"><sv:value>false</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:20.598+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:08:20.605+07:00</sv:value></sv:property><sv:property sv:name="exo:internalUse" sv:type="Boolean"><sv:value>false</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:priority" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:data" sv:type="Binary"><sv:value>ZVhvLmNvcmUuQnJvd3Nlci5hZGRPbkxvYWRDYWxsYmFjaygnbmF2T25sb2FkJywgZnVuY3Rpb24oKSB7CiAgZVhvLnBvcnRhbC5VSVdDTU5hdmlnYXRpb24ub25Mb2FkKCdVSVdDTU5hdmlnYXRpb25Qb3J0bGV0Jyk7Cn0pOwoKZnVuY3Rpb24gY2hlY2tEYXRlVGltZU9mTmF2aWdhdGlvbihuYXZpZ2F0aW9uLCBkYXRlKXsKCWlmKCFuYXZpZ2F0aW9uLnZpc2libGUpIHJldHVybiBmYWxzZTsKCXRyeXsKCQkvL3ZhciBjaGlsZCA9IG5hdmlnYXRpb24uY2hpbGRyZW5bMF07CgkJdmFyIGVuZFRpbWUgPSBuYXZpZ2F0aW9uLmVuZFB1YmxpY2F0aW9uRGF0ZS50aW1lOwoJCXZhciBzdGFydFRpbWUgPSBuYXZpZ2F0aW9uLnN0YXJ0UHVibGljYXRpb25EYXRlLnRpbWU7CgkJaWYoZGF0ZSA8IHN0YXJ0VGltZSB8fCBkYXRlID4gZW5kVGltZSkgcmV0dXJuIGZhbHNlOwoJfSBjYXRjaCAoZXgpe307CglyZXR1cm4gdHJ1ZTsKfQoKZnVuY3Rpb24gcmVuZGVyTmF2aWdhdGlvbnMoKSB7CiAgdmFyIG5hdmlnYXRpb25zID0gZVhvLmVudi5wb3J0YWwubmF2aWdhdGlvbnM7CiAgdmFyIGh0bWwgPSAJJzxkaXYgY2xhc3M9IlVJV0NNTmF2aWdhdGlvblBvcnRsZXQiPjxkaXYgY2xhc3M9IlVJTmF2aWdhdGlvbkJhciI+JzsKICB2YXIgZGF0ZSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7CiAgZm9yICh2YXIgb3duZXJUeXBlIGluIG5hdmlnYXRpb25zKSB7CiAgICBpZiAoQXJyYXkucHJvdG90eXBlW293bmVyVHlwZV0pIGNvbnRpbnVlOwogICAgZm9yICh2YXIgaSBpbiBuYXZpZ2F0aW9uc1tvd25lclR5cGVdLm5vZGVzKSB7CiAgICAgIHZhciBuYXZpZ2F0aW9uID0gbmF2aWdhdGlvbnNbb3duZXJUeXBlXS5ub2Rlc1tpXTsKICAgICAgaWYgKEFycmF5LnByb3RvdHlwZVtpXSB8fCAhY2hlY2tEYXRlVGltZU9mTmF2aWdhdGlvbihuYXZpZ2F0aW9uLCBkYXRlKSkgY29udGludWU7CiAgICAgIGVsc2V7CgkJICB2YXIgdGl0bGUgPSBuYXZpZ2F0aW9uLnJlc29sdmVkTGFiZWw7CgkgICAgICBpZiAobmF2aWdhdGlvbi5yZXNvbHZlZExhYmVsLmxlbmd0aCA+IDMwKQoJICAgICAgICBuYXZpZ2F0aW9uLnJlc29sdmVkTGFiZWwgPSBuYXZpZ2F0aW9uLnJlc29sdmVkTGFiZWwuc3Vic3RyaW5nKDAsMjkpICsgIi4uLiI7CgkgICAgICB2YXIgdGFiU3R5bGVOYXZpZ2F0aW9uID0gJ0NvbnRyb2xCdXR0b24nOwoJICAgICAgdmFyIGN1cnJlbnROb2RlcyA9IGdldEN1cnJlbnROb2RlcyhuYXZpZ2F0aW9ucywgZVhvLmVudi5wb3J0YWwuc2VsZWN0ZWROb2RlVXJpKTsKCSAgICAgIGlmIChjdXJyZW50Tm9kZXMubGVuZ3RoPjAgJiYgbmF2aWdhdGlvbi51cmkgPT0gY3VycmVudE5vZGVzW2N1cnJlbnROb2Rlcy5sZW5ndGggLSAxXS51cmkpCQoJICAgICAgICB0YWJTdHlsZU5hdmlnYXRpb24gPSAnQ29udHJvbEJ1dHRvbiBIb3ZlckJ1dHRvbic7CgkgICAgICB2YXIgbGluayA9IGdldEhvc3ROYW1lKCkgKyBlWG8uZW52LnBvcnRhbC5jb250ZXh0ICsgJy8nICsgZVhvLmVudi5wb3J0YWwuYWNjZXNzTW9kZSArICcvJyArIGVYby5lbnYucG9ydGFsLnBvcnRhbE5hbWUgKyAnLycgKyAgbmF2aWdhdGlvbi51cmk7CgkgICAgICB2YXIgYXJyb3dJY29uID0gJyc7CgkgICAgICBpZiAoKG5hdmlnYXRpb24uY2hpbGRyZW4gJiYgbmF2aWdhdGlvbi5jaGlsZHJlbi5sZW5ndGggPT0gMCkgfHwgb3duZXJUeXBlPT0wKSB7CgkgICAgICAgIGh0bWwgKz0gICc8ZGl2IGNsYXNzPSInK3RhYlN0eWxlTmF2aWdhdGlvbisnIj4nKwoJICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPSJCdXR0b24iPic7CgkgICAgICAgIGlmIChuYXZpZ2F0aW9uLnVyaSkKCSAgICAgICAgICBodG1sICs9ICAgICc8YSB0aXRsZT0iJyArIHRpdGxlICsgJyIgaHJlZj0iJyArIGxpbmsgKyAnIj4nICsgbmF2aWdhdGlvbi5yZXNvbHZlZExhYmVsICsgJzwvYT4nOwoJICAgICAgICBlbHNlIAoJICAgICAgICAgIGh0bWwgKz0gICAgJzxhIGNsYXNzPSJUYWJMYWJlbCAnICsgbmF2aWdhdGlvbi5pY29uICsgJyIgdGl0bGU9IicgKyB0aXRsZSArICciPicgKyBuYXZpZ2F0aW9uLnJlc29sdmVkTGFiZWwgKyAnPC9hPic7CgkgICAgICAgIGh0bWwgKz0gICAgJzwvZGl2PicrCgkgICAgICAgICAgICAgICAgICc8L2Rpdj4nOwoJICAgICAgfQoJICB9CiAgICB9CiAgfQogIGh0bWwgKz0gJzxkaXYgc3R5bGU9ImNsZWFyOiBsZWZ0OyI+PHNwYW4+PC9zcGFuPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pic7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdmlnYXRpb24tZ2VuZXJhdG9yJykuaW5uZXJIVE1MID0gaHRtbDsKfQ==</sv:value></sv:property><sv:property sv:name="jcr:encoding" sv:type="String"><sv:value>UTF-8</sv:value></sv:property><sv:property sv:name="jcr:lastModified" sv:type="Date"><sv:value>2009-11-26T00:00:00.000+07:00</sv:value></sv:property><sv:property sv:name="jcr:mimeType" sv:type="String"><sv:value>text/javascript</sv:value></sv:property></sv:node></sv:node></sv:node><sv:node sv:name="css"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>exo:cssFolder</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:20.707+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:08:20.714+07:00</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:created" sv:type="Date"><sv:value>2009-08-21T01:08:20.676+07:00</sv:value></sv:property><sv:node sv:name="default.css"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:file</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:cssFile</sv:value><sv:value>exo:datetime</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="jcr:uuid" sv:type="String"><sv:value>38feb8f77f0000010074c5cdbcf40338</sv:value></sv:property><sv:property sv:name="exo:active" sv:type="Boolean"><sv:value>true</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:20.822+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:08:20.831+07:00</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:presentationType" sv:type="String"><sv:value>exo:cssFile</sv:value></sv:property><sv:property sv:name="exo:priority" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:created" sv:type="Date"><sv:value>2009-08-21T01:08:20.736+07:00</sv:value></sv:property><sv:node sv:name="jcr:content"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:resource</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>dc:elementSet</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="jcr:uuid" sv:type="String"><sv:value>38feb96c7f0000010088e0fe71341223</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:20.884+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:08:20.891+07:00</sv:value></sv:property><sv:property sv:name="exo:internalUse" sv:type="Boolean"><sv:value>false</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:data" sv:type="Binary"><sv:value></sv:value></sv:property><sv:property sv:name="jcr:encoding" sv:type="String"><sv:value>UTF-8</sv:value></sv:property><sv:property sv:name="jcr:lastModified" sv:type="Date"><sv:value>2009-08-30T22:00:00.000+07:00</sv:value></sv:property><sv:property sv:name="jcr:mimeType" sv:type="String"><sv:value>text/css</sv:value></sv:property></sv:node></sv:node></sv:node><sv:node sv:name="medias"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>exo:multimediaFolder</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:20.985+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:08:20.993+07:00</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:node sv:name="images"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:folder</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:21.051+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:08:21.063+07:00</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:created" sv:type="Date"><sv:value>2009-08-21T01:08:21.018+07:00</sv:value></sv:property><sv:node sv:name="illustration"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:file</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>mix:referenceable</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="jcr:uuid" sv:type="String"><sv:value>38feba557f000001004b470c5028be2d</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:21.141+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:08:21.148+07:00</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:created" sv:type="Date"><sv:value>2009-08-21T01:08:21.085+07:00</sv:value></sv:property><sv:node sv:name="jcr:content"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:resource</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>dc:elementSet</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="jcr:uuid" sv:type="String"><sv:value>38febab07f00000100ec3e186cf11472</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:21.209+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:08:21.216+07:00</sv:value></sv:property><sv:property sv:name="exo:internalUse" sv:type="Boolean"><sv:value>false</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:data" sv:type="Binary"><sv:value></sv:value></sv:property><sv:property sv:name="jcr:encoding" sv:type="String"><sv:value>UTF-8</sv:value></sv:property><sv:property sv:name="jcr:lastModified" sv:type="Date"><sv:value>2009-08-30T22:00:00.000+07:00</sv:value></sv:property><sv:property sv:name="jcr:mimeType" sv:type="String"><sv:value>image/gif</sv:value></sv:property></sv:node></sv:node><sv:node sv:name="CenterHilineButton.gif"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:file</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:datetime</sv:value><sv:value>exo:owneable</sv:value><sv:value>mix:i18n</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value><sv:value>mix:referenceable</sv:value></sv:property><sv:property sv:name="jcr:uuid" sv:type="String"><sv:value>391f212f7f00000100bb1815e7dd229a</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:43:44.623+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:43:44.632+07:00</sv:value></sv:property><sv:property sv:name="exo:language" sv:type="String"><sv:value>en</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:created" sv:type="Date"><sv:value>2009-08-21T01:43:44.566+07:00</sv:value></sv:property><sv:node sv:name="jcr:content"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:resource</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:datetime</sv:value><sv:value>exo:owneable</sv:value><sv:value>dc:elementSet</sv:value></sv:property><sv:property sv:name="jcr:uuid" sv:type="String"><sv:value>391f21b27f0000010035beaa577f5f28</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:43:44.724+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:43:44.732+07:00</sv:value></sv:property><sv:property sv:name="exo:internalUse" sv:type="Boolean"><sv:value>false</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="jcr:data" sv:type="Binary"><sv:value>R0lGODlhCgAaAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAAKABoAAAIWjI+py+0Po5y02oubEGvv5HlHGAZkAQA7</sv:value></sv:property><sv:property sv:name="jcr:encoding" sv:type="String"><sv:value>UTF-8</sv:value></sv:property><sv:property sv:name="jcr:lastModified" sv:type="Date"><sv:value>2009-08-21T01:43:44.559+07:00</sv:value></sv:property><sv:property sv:name="jcr:mimeType" sv:type="String"><sv:value>image/gif</sv:value></sv:property></sv:node></sv:node><sv:node sv:name="WhiteDownArrow.gif"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:file</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-26T15:32:24.077+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-26T15:32:24.082+07:00</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="jcr:created" sv:type="Date"><sv:value>2009-08-26T15:32:24.019+07:00</sv:value></sv:property><sv:node sv:name="jcr:content"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:resource</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>dc:elementSet</sv:value></sv:property><sv:property sv:name="jcr:uuid" sv:type="String"><sv:value>55d596187f00010100136a82e0fe16d6</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-26T15:32:24.120+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-26T15:32:24.127+07:00</sv:value></sv:property><sv:property sv:name="exo:internalUse" sv:type="Boolean"><sv:value>false</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="jcr:data" sv:type="Binary"><sv:value>R0lGODlhEAAQAMQAAChvm0+kySlwnFWr0Fet0S11oEiZwDuHsUWWvVOpzlKnzECOtzWAqjB4o0qexP///+Hh4gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAABAALAAAAAAQABAAAAUfICSOZGmeaKquLPm8cPyYcozWcyqzcAvlvqBwSDSFAAA7</sv:value></sv:property><sv:property sv:name="jcr:lastModified" sv:type="Date"><sv:value>2009-08-26T15:32:24.162+07:00</sv:value></sv:property><sv:property sv:name="jcr:mimeType" sv:type="String"><sv:value>image/gif</sv:value></sv:property></sv:node></sv:node></sv:node><sv:node sv:name="videos"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:folder</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:21.310+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:08:21.317+07:00</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:created" sv:type="Date"><sv:value>2009-08-21T01:08:21.279+07:00</sv:value></sv:property></sv:node></sv:node><sv:node sv:name="default.html"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:file</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>exo:htmlFile</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="jcr:uuid" sv:type="String"><sv:value>38febb5e7f000001002c7f9329bcb8d5</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:21.402+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:08:21.410+07:00</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:created" sv:type="Date"><sv:value>2009-08-21T01:08:21.350+07:00</sv:value></sv:property><sv:node sv:name="jcr:content"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:resource</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>dc:elementSet</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="jcr:uuid" sv:type="String"><sv:value>38febbc17f00000100b89aba6316987a</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:21.482+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:08:21.489+07:00</sv:value></sv:property><sv:property sv:name="exo:internalUse" sv:type="Boolean"><sv:value>false</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property><sv:property sv:name="jcr:data" sv:type="Binary"><sv:value>PGRpdiBpZD0ibmF2aWdhdGlvbi1nZW5lcmF0b3IiPgo8ZGl2IGNsYXNzPSJVSVdDTU5hdmlnYXRpb25Qb3J0bGV0Ij4KPGRpdiBjbGFzcz0iVUlOYXZpZ2F0aW9uQmFyIj4KPGRpdiBocmVmPSJhYWEiIGNsYXNzPSJDb250cm9sQnV0dG9uIEhvdmVyQnV0dG9uIj4KPGRpdiBjbGFzcz0iQnV0dG9uIj5PdmVydmlldzwvZGl2Pgo8L2Rpdj4KPGRpdiBocmVmPSJhYWEiIGNsYXNzPSJDb250cm9sQnV0dG9uIj4KPGRpdiBjbGFzcz0iQnV0dG9uIj5OZXdzPC9kaXY+CjwvZGl2Pgo8ZGl2IGhyZWY9ImFhYSIgY2xhc3M9IkNvbnRyb2xCdXR0b24iPgo8ZGl2IGNsYXNzPSJCdXR0b24iPkV2ZW50czwvZGl2Pgo8L2Rpdj4KPGRpdiBocmVmPSJhYWEiIGNsYXNzPSJDb250cm9sQnV0dG9uIj4KPGRpdiBjbGFzcz0iQnV0dG9uIj5QdWJsaWNhdGlvbnM8L2Rpdj4KPC9kaXY+CjxkaXYgc3R5bGU9ImNsZWFyOiBsZWZ0OyI+PHNwYW4+PC9zcGFuPjwvZGl2Pgo8L2Rpdj4KPC9kaXY+CjwvZGl2Pgo8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+LyogPCFbQ0RBVEFbICovIHJlbmRlck5hdmlnYXRpb25zKCk7IC8qIF1dPiAqLzwvc2NyaXB0Pg==</sv:value></sv:property><sv:property sv:name="jcr:encoding" sv:type="String"><sv:value>UTF-8</sv:value></sv:property><sv:property sv:name="jcr:lastModified" sv:type="Date"><sv:value>2009-08-30T22:00:00.000+07:00</sv:value></sv:property><sv:property sv:name="jcr:mimeType" sv:type="String"><sv:value>text/html</sv:value></sv:property></sv:node></sv:node><sv:node sv:name="documents"><sv:property sv:name="jcr:primaryType" sv:type="Name"><sv:value>nt:unstructured</sv:value></sv:property><sv:property sv:name="jcr:mixinTypes" sv:type="Name"><sv:value>exo:owneable</sv:value><sv:value>exo:datetime</sv:value><sv:value>exo:documentFolder</sv:value><sv:value>mix:votable</sv:value><sv:value>mix:commentable</sv:value></sv:property><sv:property sv:name="exo:dateCreated" sv:type="Date"><sv:value>2009-08-21T01:08:21.611+07:00</sv:value></sv:property><sv:property sv:name="exo:dateModified" sv:type="Date"><sv:value>2009-08-21T01:08:21.617+07:00</sv:value></sv:property><sv:property sv:name="exo:owner" sv:type="String"><sv:value>root</sv:value></sv:property><sv:property sv:name="exo:voteTotal" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:voteTotalOfLang" sv:type="Long"><sv:value>0</sv:value></sv:property><sv:property sv:name="exo:votingRate" sv:type="Double"><sv:value>0.0</sv:value></sv:property></sv:node></sv:node>
\ No newline at end of file
+<?xml version="1.0" encoding="UTF-8"?><Navigation xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:nt="http://www.jcp.org/jcr/nt/1.0" xmlns:Re="http://www.exoplatform.com/jcr/Re/1.1/" xmlns:webdav="http://www.exoplatform.org/jcr/webdav" xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:fn_old="http://www.w3.org/2004/10/xpath-functions" xmlns:mix="http://www.jcp.org/jcr/mix/1.0" xmlns:publication="http://www.exoplatform.com/jcr/publication/1.1/" xmlns:exo="http://www.exoplatform.com/jcr/exo/1.0" xmlns:jcr="http://www.jcp.org/jcr/1.0" xmlns:Fwd="http://www.exoplatform.com/jcr/Fwd/1.1/" xmlns:rma="http://www.rma.com/jcr/" xmlns:sv="http://www.jcp.org/jcr/sv/1.0" xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:kfx="http://www.exoplatform.com/jcr/kfx/1.1/" xmlns:rep="internal" xmlns:metadata="http://www.exoplatform.com/jcr/metadata/1.1/" jcr:primaryType="exo:webContent" jcr:mixinTypes="exo:owneable exo:datetime exo:linkable mix:votable mix:commentable" jcr:uuid="38feb7467f000001005583765fa59bda" exo:dateCreated="2009-08-21T01:08:20.339+07:00" exo:dateModified="2010-08-12T14:43:47.213+07:00" exo:links="" exo:owner="root" exo:summary="&amp;lt;br_x0020_/&amp;gt;" exo:title="ACME_x0020_Navigation" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:20.313+07:00" jcr:isCheckedOut="true"><js jcr:primaryType="exo:jsFolder" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable" exo:dateCreated="2009-08-21T01:08:20.410+07:00" exo:dateModified="2009-08-21T01:08:20.417+07:00" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:20.378+07:00"><default.js jcr:primaryType="nt:file" jcr:mixinTypes="exo:owneable exo:jsFile exo:datetime mix:votable mix:commentable" jcr:uuid="38feb7d17f00000100b381629949657a" exo:active="true" exo:dateCreated="2009-08-21T01:08:20.534+07:00" exo:dateModified="2009-11-26T13:52:42.281+07:00" exo:owner="root" exo:presentationType="exo:jsFile" exo:priority="0" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:20.445+07:00"><jcr:content jcr:primaryType="nt:resource" jcr:mixinTypes="exo:owneable exo:datetime dc:elementSet mix:votable mix:commentable exo:jsFile" jcr:uuid="38feb84d7f0000010063d9cde17eb4fd" exo:active="false" exo:dateCreated="2009-08-21T01:08:20.598+07:00" exo:dateModified="2009-08-21T01:08:20.605+07:00" exo:internalUse="false" exo:owner="root" exo:priority="0" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:data="ZVhvLmNvcmUuQnJvd3Nlci5hZGRPbkxvYWRDYWxsYmFjaygnbmF2T25sb2FkJywgZnVuY3Rpb24oKSB7CiAgZVhvLnBvcnRhbC5VSVdDTU5hdmlnYXRpb24ub25Mb2FkKCdVSVdDTU5hdmlnYXRpb25Qb3J0bGV0Jyk7Cn0pOwoKZnVuY3Rpb24gY2hlY2tEYXRlVGltZU9mTmF2aWdhdGlvbihuYXZpZ2F0aW9uLCBkYXRlKXsKCWlmKCFuYXZpZ2F0aW9uLnZpc2libGUpIHJldHVybiBmYWxzZTsKCXRyeXsKCQkvL3ZhciBjaGlsZCA9IG5hdmlnYXRpb24uY2hpbGRyZW5bMF07CgkJdmFyIGVuZFRpbWUgPSBuYXZpZ2F0aW9uLmVuZFB1YmxpY2F0aW9uRGF0ZS50aW1lOwoJCXZhciBzdGFydFRpbWUgPSBuYXZpZ2F0aW9uLnN0YXJ0UHVibGljYXRpb25EYXRlLnRpbWU7CgkJaWYoZGF0ZSA8IHN0YXJ0VGltZSB8fCBkYXRlID4gZW5kVGltZSkgcmV0dXJuIGZhbHNlOwoJfSBjYXRjaCAoZXgpe307CglyZXR1cm4gdHJ1ZTsKfQoKZnVuY3Rpb24gcmVuZGVyTmF2aWdhdGlvbnMoKSB7CiAgdmFyIG5hdmlnYXRpb25zID0gZVhvLmVudi5wb3J0YWwubmF2aWdhdGlvbnM7CiAgdmFyIGh0bWwgPSAJJzxkaXYgY2xhc3M9IlVJV0NNTmF2aWdhdGlvblBvcnRsZXQiPjxkaXYgY2xhc3M9IlVJTmF2aWdhdGlvbkJhciI+JzsKICB2YXIgZGF0ZSA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7CiAgZm9yICh2YXIgb3duZXJUeXBlIGluIG5hdmlnYXRpb25zKSB7CiAgICBpZiAoQXJyYXkucHJvdG90eXBlW293bmVyVHlwZV0pIGNvbnRpbnVlOwogICAgZm9yICh2YXIgaSBpbiBuYXZpZ2F0aW9uc1tvd25lclR5cGVdLm5vZGVzKSB7CiAgICAgIHZhciBuYXZpZ2F0aW9uID0gbmF2aWdhdGlvbnNbb3duZXJUeXBlXS5ub2Rlc1tpXTsKICAgICAgaWYgKEFycmF5LnByb3RvdHlwZVtpXSB8fCAhY2hlY2tEYXRlVGltZU9mTmF2aWdhdGlvbihuYXZpZ2F0aW9uLCBkYXRlKSkgY29udGludWU7CiAgICAgIGVsc2V7CgkJICB2YXIgdGl0bGUgPSBuYXZpZ2F0aW9uLnJlc29sdmVkTGFiZWw7CgkgICAgICBpZiAobmF2aWdhdGlvbi5yZXNvbHZlZExhYmVsLmxlbmd0aCA+IDMwKQoJICAgICAgICBuYXZpZ2F0aW9uLnJlc29sdmVkTGFiZWwgPSBuYXZpZ2F0aW9uLnJlc29sdmVkTGFiZWwuc3Vic3RyaW5nKDAsMjkpICsgIi4uLiI7CgkgICAgICB2YXIgdGFiU3R5bGVOYXZpZ2F0aW9uID0gJ0NvbnRyb2xCdXR0b24nOwoJICAgICAgdmFyIGN1cnJlbnROb2RlcyA9IGdldEN1cnJlbnROb2RlcyhuYXZpZ2F0aW9ucywgZVhvLmVudi5wb3J0YWwuc2VsZWN0ZWROb2RlVXJpKTsKCSAgICAgIGlmIChjdXJyZW50Tm9kZXMubGVuZ3RoPjAgJiYgbmF2aWdhdGlvbi51cmkgPT0gY3VycmVudE5vZGVzW2N1cnJlbnROb2Rlcy5sZW5ndGggLSAxXS51cmkpCQoJICAgICAgICB0YWJTdHlsZU5hdmlnYXRpb24gPSAnQ29udHJvbEJ1dHRvbiBIb3ZlckJ1dHRvbic7CgkgICAgICB2YXIgbGluayA9IGdldEhvc3ROYW1lKCkgKyBlWG8uZW52LnBvcnRhbC5jb250ZXh0ICsgJy8nICsgZVhvLmVudi5wb3J0YWwuYWNjZXNzTW9kZSArICcvJyArIGVYby5lbnYucG9ydGFsLnBvcnRhbE5hbWUgKyAnLycgKyAgbmF2aWdhdGlvbi51cmk7CgkgICAgICB2YXIgYXJyb3dJY29uID0gJyc7CgkgICAgICBpZiAoKG5hdmlnYXRpb24uY2hpbGRyZW4gJiYgbmF2aWdhdGlvbi5jaGlsZHJlbi5sZW5ndGggPT0gMCkgfHwgb3duZXJUeXBlPT0wKSB7CgkgICAgICAgIGh0bWwgKz0gICc8ZGl2IGNsYXNzPSInK3RhYlN0eWxlTmF2aWdhdGlvbisnIj4nKwoJICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPSJCdXR0b24iPic7CgkgICAgICAgIGlmIChuYXZpZ2F0aW9uLnVyaSkKCSAgICAgICAgICBodG1sICs9ICAgICc8YSB0aXRsZT0iJyArIHRpdGxlICsgJyIgaHJlZj0iJyArIGxpbmsgKyAnIj4nICsgbmF2aWdhdGlvbi5yZXNvbHZlZExhYmVsICsgJzwvYT4nOwoJICAgICAgICBlbHNlIAoJICAgICAgICAgIGh0bWwgKz0gICAgJzxhIGNsYXNzPSJUYWJMYWJlbCAnICsgbmF2aWdhdGlvbi5pY29uICsgJyIgdGl0bGU9IicgKyB0aXRsZSArICciPicgKyBuYXZpZ2F0aW9uLnJlc29sdmVkTGFiZWwgKyAnPC9hPic7CgkgICAgICAgIGh0bWwgKz0gICAgJzwvZGl2PicrCgkgICAgICAgICAgICAgICAgICc8L2Rpdj4nOwoJICAgICAgfQoJICB9CiAgICB9CiAgfQogIGh0bWwgKz0gJzxkaXYgc3R5bGU9ImNsZWFyOiBsZWZ0OyI+PHNwYW4+PC9zcGFuPjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pic7CiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdmlnYXRpb24tZ2VuZXJhdG9yJykuaW5uZXJIVE1MID0gaHRtbDsKfQ==" jcr:encoding="UTF-8" jcr:lastModified="2010-08-12T00:00:00.000+07:00" jcr:mimeType="application/x-javascript"/></default.js></js><css jcr:primaryType="exo:cssFolder" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable" exo:dateCreated="2009-08-21T01:08:20.707+07:00" exo:dateModified="2009-08-21T01:08:20.714+07:00" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:20.676+07:00"><default.css jcr:primaryType="nt:file" jcr:mixinTypes="exo:owneable exo:cssFile exo:datetime mix:votable mix:commentable" jcr:uuid="38feb8f77f0000010074c5cdbcf40338" exo:active="true" exo:dateCreated="2009-08-21T01:08:20.822+07:00" exo:dateModified="2009-08-21T01:08:20.831+07:00" exo:owner="root" exo:presentationType="exo:cssFile" exo:priority="0" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:20.736+07:00"><jcr:content jcr:primaryType="nt:resource" jcr:mixinTypes="exo:owneable exo:datetime dc:elementSet mix:votable mix:commentable" jcr:uuid="38feb96c7f0000010088e0fe71341223" exo:dateCreated="2009-08-21T01:08:20.884+07:00" exo:dateModified="2009-08-21T01:08:20.891+07:00" exo:internalUse="false" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:data="" jcr:encoding="UTF-8" jcr:lastModified="2010-08-12T00:00:00.000+07:00" jcr:mimeType="text/css"/></default.css></css><medias jcr:primaryType="exo:multimediaFolder" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable" exo:dateCreated="2009-08-21T01:08:20.985+07:00" exo:dateModified="2009-08-21T01:08:20.993+07:00" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0"><images jcr:primaryType="nt:folder" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable" exo:dateCreated="2009-08-21T01:08:21.051+07:00" exo:dateModified="2009-08-21T01:08:21.063+07:00" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:21.018+07:00"><illustration jcr:primaryType="nt:file" jcr:mixinTypes="exo:owneable exo:datetime mix:referenceable mix:votable mix:commentable" jcr:uuid="38feba557f000001004b470c5028be2d" exo:dateCreated="2009-08-21T01:08:21.141+07:00" exo:dateModified="2009-08-21T01:08:21.148+07:00" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:21.085+07:00"><jcr:content jcr:primaryType="nt:resource" jcr:mixinTypes="exo:owneable exo:datetime dc:elementSet mix:votable mix:commentable" jcr:uuid="38febab07f00000100ec3e186cf11472" exo:dateCreated="2009-08-21T01:08:21.209+07:00" exo:dateModified="2009-08-21T01:08:21.216+07:00" exo:internalUse="false" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:data="" jcr:encoding="UTF-8" jcr:lastModified="2010-08-12T00:00:00.000+07:00" jcr:mimeType="image/gif"/></illustration><CenterHilineButton.gif jcr:primaryType="nt:file" jcr:mixinTypes="exo:datetime exo:owneable mix:i18n mix:votable mix:commentable mix:referenceable" jcr:uuid="391f212f7f00000100bb1815e7dd229a" exo:dateCreated="2009-08-21T01:43:44.623+07:00" exo:dateModified="2009-08-21T01:43:44.632+07:00" exo:language="en" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:43:44.566+07:00"><jcr:content jcr:primaryType="nt:resource" jcr:mixinTypes="exo:datetime exo:owneable dc:elementSet" jcr:uuid="391f21b27f0000010035beaa577f5f28" exo:dateCreated="2009-08-21T01:43:44.724+07:00" exo:dateModified="2009-08-21T01:43:44.732+07:00" exo:internalUse="false" exo:owner="root" jcr:data="R0lGODlhCgAaAJEAAAAAAP///////wAAACH5BAEAAAIALAAAAAAKABoAAAIWjI+py+0Po5y02oubEGvv5HlHGAZkAQA7" jcr:encoding="UTF-8" jcr:lastModified="2009-08-21T01:43:44.559+07:00" jcr:mimeType="image/gif"/></CenterHilineButton.gif><WhiteDownArrow.gif jcr:primaryType="nt:file" jcr:mixinTypes="exo:owneable exo:datetime" exo:dateCreated="2009-08-26T15:32:24.077+07:00" exo:dateModified="2009-08-26T15:32:24.082+07:00" exo:owner="root" jcr:created="2009-08-26T15:32:24.019+07:00"><jcr:content jcr:primaryType="nt:resource" jcr:mixinTypes="exo:owneable exo:datetime dc:elementSet" jcr:uuid="55d596187f00010100136a82e0fe16d6" exo:dateCreated="2009-08-26T15:32:24.120+07:00" exo:dateModified="2009-08-26T15:32:24.127+07:00" exo:internalUse="false" exo:owner="root" jcr:data="R0lGODlhEAAQAMQAAChvm0+kySlwnFWr0Fet0S11oEiZwDuHsUWWvVOpzlKnzECOtzWAqjB4o0qexP///+Hh4gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAABAALAAAAAAQABAAAAUfICSOZGmeaKquLPm8cPyYcozWcyqzcAvlvqBwSDSFAAA7" jcr:lastModified="2009-08-26T15:32:24.162+07:00" jcr:mimeType="image/gif"/></WhiteDownArrow.gif></images><videos jcr:primaryType="nt:folder" jcr:mixinTypes="exo:owneable exo:datetime mix:votable mix:commentable" exo:dateCreated="2009-08-21T01:08:21.310+07:00" exo:dateModified="2009-08-21T01:08:21.317+07:00" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:21.279+07:00"/></medias><default.html jcr:primaryType="nt:file" jcr:mixinTypes="exo:owneable exo:datetime exo:htmlFile mix:votable mix:commentable" jcr:uuid="38febb5e7f000001002c7f9329bcb8d5" exo:dateCreated="2009-08-21T01:08:21.402+07:00" exo:dateModified="2009-08-21T01:08:21.410+07:00" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:created="2009-08-21T01:08:21.350+07:00"><jcr:content jcr:primaryType="nt:resource" jcr:mixinTypes="exo:owneable exo:datetime dc:elementSet mix:votable mix:commentable" jcr:uuid="38febbc17f00000100b89aba6316987a" exo:dateCreated="2009-08-21T01:08:21.482+07:00" exo:dateModified="2009-08-21T01:08:21.489+07:00" exo:internalUse="false" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0" jcr:data="PGRpdiBpZD0ibmF2aWdhdGlvbi1nZW5lcmF0b3IiPgo8ZGl2IGNsYXNzPSJVSVdDTU5hdmlnYXRpb25Qb3J0bGV0Ij4KPGRpdiBjbGFzcz0iVUlOYXZpZ2F0aW9uQmFyIj4KPGRpdiBjbGFzcz0iQ29udHJvbEJ1dHRvbiBIb3ZlckJ1dHRvbiI+CjxkaXYgY2xhc3M9IkJ1dHRvbiI+T3ZlcnZpZXc8L2Rpdj4KPC9kaXY+CjxkaXYgY2xhc3M9IkNvbnRyb2xCdXR0b24iPgo8ZGl2IGNsYXNzPSJCdXR0b24iPk5ld3M8L2Rpdj4KPC9kaXY+CjxkaXYgY2xhc3M9IkNvbnRyb2xCdXR0b24iPgo8ZGl2IGNsYXNzPSJCdXR0b24iPkV2ZW50czwvZGl2Pgo8L2Rpdj4KPGRpdiBjbGFzcz0iQ29udHJvbEJ1dHRvbiI+CjxkaXYgY2xhc3M9IkJ1dHRvbiI+UHVibGljYXRpb25zPC9kaXY+CjwvZGl2Pgo8ZGl2IHN0eWxlPSJjbGVhcjogbGVmdDsiPjxzcGFuPjwvc3Bhbj48L2Rpdj4KPC9kaXY+CjwvZGl2Pgo8L2Rpdj4KPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPi8qIDwhW0NEQVRBWyAqLyByZW5kZXJOYXZpZ2F0aW9ucygpOyAvKiBdXT4gKi88L3NjcmlwdD4=" jcr:encoding="UTF-8" jcr:lastModified="2010-08-12T00:00:00.000+07:00" jcr:mimeType="text/html"/></default.html><documents jcr:primaryType="nt:unstructured" jcr:mixinTypes="exo:owneable exo:datetime exo:documentFolder mix:votable mix:commentable" exo:dateCreated="2009-08-21T01:08:21.611+07:00" exo:dateModified="2009-08-21T01:08:21.617+07:00" exo:owner="root" exo:voteTotal="0" exo:voteTotalOfLang="0" exo:votingRate="0.0"/></Navigation>
\ No newline at end of file
Index: web/wcmportal/src/main/webapp/fckeditor/exo/filemanager/browser/default/frmfolders.html
===================================================================
--- web/wcmportal/src/main/webapp/fckeditor/exo/filemanager/browser/default/frmfolders.html	(revision 50731)
+++ web/wcmportal/src/main/webapp/fckeditor/exo/filemanager/browser/default/frmfolders.html	(working copy)
@@ -61,7 +61,7 @@
 	// Add the folder icon cell.
 	var oCell = oRow.insertCell(-1) ;
 	oCell.width = 16 ;
-	oCell.innerHTML = sLink + '<img alt="" src="images/spacer.gif" width="16" height="16" border="0"></a>' ;
+	oCell.innerHTML = sLink + '<img alt="" src="images/spacer.gif" width="16" height="16" border="0" /></a>' ;
 
 	// Add the folder name cell.
 	oCell = oRow.insertCell(-1) ;
@@ -184,7 +184,7 @@
 	<body class="FileArea" bottomMargin="10" leftMargin="10" topMargin="10" rightMargin="10">
 		<table id="tableFiles" cellSpacing="0" cellPadding="0" width="100%" border="0">
 			<tr id="trUp" style="DISPLAY: none">
-				<td width="16"><a id="linkUpIcon" href="#"><img alt="" src="images/FolderUp.gif" width="16" height="16" border="0"></a></td>
+				<td width="16"><a id="linkUpIcon" href="#"><img alt="" src="images/FolderUp.gif" width="16" height="16" border="0" /></a></td>
 				<td nowrap width="100%">&nbsp;<a id="linkUp" href="#">..</a></td>
 			</tr>
 		</table>
Index: web/wcmportal/src/main/webapp/fckeditor/exo/filemanager/browser/default/frmcreatefolder.html
===================================================================
--- web/wcmportal/src/main/webapp/fckeditor/exo/filemanager/browser/default/frmcreatefolder.html	(revision 50731)
+++ web/wcmportal/src/main/webapp/fckeditor/exo/filemanager/browser/default/frmcreatefolder.html	(working copy)
@@ -96,7 +96,7 @@
 					<button type="button" style="WIDTH: 100%" onclick="CreateFolder();">
 						<table cellSpacing="0" cellPadding="0" border="0">
 							<tr>
-								<td><img height="16" alt="" src="images/Folder.gif" width="16"></td>
+								<td><img height="16" alt="" src="images/Folder.gif" width="16" /></td>
 								<td>&nbsp;</td>
 								<td nowrap>Create New Folder</td>
 							</tr>
Index: web/wcmportal/src/main/webapp/fckeditor/exo/filemanager/browser/default/frmactualfolder.html
===================================================================
--- web/wcmportal/src/main/webapp/fckeditor/exo/filemanager/browser/default/frmactualfolder.html	(revision 50731)
+++ web/wcmportal/src/main/webapp/fckeditor/exo/filemanager/browser/default/frmactualfolder.html	(working copy)
@@ -1,63 +1,72 @@
 <!--
- * FCKeditor - The text editor for internet
- * Copyright (C) 2003-2006 Frederico Caldeira Knabben
- * 
- * Licensed under the terms of the GNU Lesser General Public License:
- * 		http://www.opensource.org/licenses/lgpl-license.php
- * 
- * For further information visit:
- * 		http://www.fckeditor.net/
- * 
- * "Support Open Source software. What about a donation today?"
- * 
- * File Name: frmactualfolder.html
- * 	This page shows the actual folder path.
- * 
- * File Authors:
- * 		Frederico Caldeira Knabben (fredck@fckeditor.net)
+* FCKeditor - The text editor for internet
+* Copyright (C) 2003-2006 Frederico Caldeira Knabben
+*
+* Licensed under the terms of the GNU Lesser General Public License:
+* 		http://www.opensource.org/licenses/lgpl-license.php
+*
+* For further information visit:
+* 		http://www.fckeditor.net/
+*
+* "Support Open Source software. What about a donation today?"
+*
+* File Name: frmactualfolder.html
+* 	This page shows the actual folder path.
+*
+* File Authors:
+* 		Frederico Caldeira Knabben (fredck@fckeditor.net)
 -->
-<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
+ <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
 <html>
-	<head>
-		<link href="browser.css" type="text/css" rel="stylesheet">
-		<script type="text/javascript">
-
-function OnResize()
-{
-	divName.style.width = "1px" ;
-	divName.style.width = tdName.offsetWidth + "px" ;
-}
-
-function SetCurrentFolder( resourceType, folderPath )
-{
-	document.getElementById('tdName').innerHTML = folderPath ;
-}
-
-window.onload = function()
-{
-	window.top.IsLoadedActualFolder = true ;
-}
-
-		</script>
-	</head>
-	<body bottomMargin="0" topMargin="0">
-		<table height="100%" cellSpacing="0" cellPadding="0" width="100%" border="0">
-			<tr>
-				<td>
-					<button style="WIDTH: 100%" type="button">
-						<table cellSpacing="0" cellPadding="0" width="100%" border="0">
-							<tr>
-								<td><img height="32" alt="" src="images/FolderOpened32.gif" width="32"></td>
-								<td>&nbsp;</td>
-								<td id="tdName" width="100%" nowrap class="ActualFolder">/</td>
-								<td>&nbsp;</td>
-								<td><img height="8" src="images/ButtonArrow.gif" width="12"></td>
-								<td>&nbsp;</td>
-							</tr>
-						</table>
-					</button>
-				</td>
-			</tr>
-		</table>
-	</body>
+    <head>
+        <link href="browser.css" type="text/css" rel="stylesheet">
+        <script type="text/javascript">
+            
+            function OnResize(){
+                divName.style.width = "1px";
+                divName.style.width = tdName.offsetWidth + "px";
+            }
+            
+            function SetCurrentFolder(resourceType, folderPath){
+                document.getElementById('tdName').innerHTML = folderPath;
+            }
+            
+            window.onload = function(){
+                window.top.IsLoadedActualFolder = true;
+            }
+            
+        </script>
+    </head>
+    <body bottomMargin="0" topMargin="0">
+        <table height="100%" cellSpacing="0" cellPadding="0" width="100%" border="0">
+            <tr>
+                <td>
+                    <button style="WIDTH: 100%" type="button">
+                        <table cellSpacing="0" cellPadding="0" width="100%" border="0">
+                            <tr>
+                                <td>
+                                    <img height="32" alt="" src="images/FolderOpened32.gif" width="32" />
+                                </td>
+                                <td>
+                                    &nbsp;
+                                </td>
+                                <td id="tdName" width="100%" nowrap class="ActualFolder">
+                                    /
+                                </td>
+                                <td>
+                                    &nbsp;
+                                </td>
+                                <td>
+                                    <img height="8" src="images/ButtonArrow.gif" width="12" />
+                                </td>
+                                <td>
+                                    &nbsp;
+                                </td>
+                            </tr>
+                        </table>
+                    </button>
+                </td>
+            </tr>
+        </table>
+    </body>
 </html>
Index: web/wcmportal/src/main/webapp/fckeditor/exo/filemanager/browser/default/frmresourceslist.html
===================================================================
--- web/wcmportal/src/main/webapp/fckeditor/exo/filemanager/browser/default/frmresourceslist.html	(revision 50731)
+++ web/wcmportal/src/main/webapp/fckeditor/exo/filemanager/browser/default/frmresourceslist.html	(working copy)
@@ -39,7 +39,7 @@
 	return '<tr>' +
 			'<td width="16">' +
 				sLink +
-				'<img alt="" src="images/Folder.gif" width="16" height="16" border="0"></a>' +
+				'<img alt="" src="images/Folder.gif" width="16" height="16" border="0" /></a>' +
 			'</td><td nowrap colspan="2">&nbsp;' +
 				sLink + 
 				folderName + 
@@ -58,7 +58,7 @@
 	return '<tr>' +
 			'<td width="16">' +
 				sLink + 
-				'<img alt="" src="images/icons/' + sIcon + '.gif" width="16" height="16" border="0"></a>' +
+				'<img alt="" src="images/icons/' + sIcon + '.gif" width="16" height="16" border="0" /></a>' +
 			'</td><td>&nbsp;' +
 				sLink + 
 				fileName + 
