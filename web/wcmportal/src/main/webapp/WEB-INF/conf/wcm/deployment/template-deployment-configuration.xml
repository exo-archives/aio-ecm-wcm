<?xml version="1.0" encoding="ISO-8859-1"?>

<configuration>

  <component>
    <key>org.exoplatform.services.wcm.portal.artifacts.CreatePortalArtifactsService</key>
    <type>org.exoplatform.services.wcm.portal.artifacts.CreatePortalArtifactsServiceImpl</type>
    <init-params>
      <values-param>
        <name>ignored.portals</name>
        <description>initial portals. the service will not deploy data to the initial portal</description>
        <value>classic</value>
        <value>acme</value>
      </values-param>
    </init-params>   
  </component>

   <external-component-plugins>
   		<target-component>org.exoplatform.services.wcm.portal.artifacts.CreatePortalArtifactsService</target-component>    
      <component-plugin> 
        <name>Initial webcontent artifact for each site</name>
        <set-method>addPlugin</set-method>
        <type>org.exoplatform.services.wcm.webcontent.InitialWebContentPlugin</type>
        <description>This plugin deploy some initial webcontent as site artifact to site artifact folder of portal when a portal is created</description>
        <init-params>
          <object-param>        
            <name>Portal logo data</name>
            <description>Deployment Descriptor</description>
            <object type="org.exoplatform.services.deployment.DeploymentDescriptor">
              <field  name="target">
              	<object type="org.exoplatform.services.deployment.DeploymentDescriptor$Target">
              		<field  name="repository"><string>repository</string></field>
              		<field  name="workspace"><string>collaboration</string></field>
              		<field  name="nodePath"><string>/sites content/live/{portalName}/web contents/site artifacts</string></field>
              	</object>
              </field>
              <field  name="sourcePath"><string>war:/conf/wcm/artifacts/site-resources/acme-templates/Logo.xml</string></field>
            </object>
          </object-param>
          <object-param>        
            <name>Portal signin data</name>
            <description>Deployment Descriptor</description>
            <object type="org.exoplatform.services.deployment.DeploymentDescriptor">
              <field  name="target">
              	<object type="org.exoplatform.services.deployment.DeploymentDescriptor$Target">
              		<field  name="repository"><string>repository</string></field>
              		<field  name="workspace"><string>collaboration</string></field>
              		<field  name="nodePath"><string>/sites content/live/{portalName}/web contents/site artifacts</string></field>
              	</object>
              </field>
              <field  name="sourcePath"><string>war:/conf/wcm/artifacts/site-resources/acme-templates/Signin.xml</string></field>
            </object>
          </object-param>
          <object-param>        
            <name>Portal searchbox data</name>
            <description>Deployment Descriptor</description>
            <object type="org.exoplatform.services.deployment.DeploymentDescriptor">
              <field  name="target">
              	<object type="org.exoplatform.services.deployment.DeploymentDescriptor$Target">
              		<field  name="repository"><string>repository</string></field>
              		<field  name="workspace"><string>collaboration</string></field>
              		<field  name="nodePath"><string>/sites content/live/{portalName}/web contents/site artifacts</string></field>
              	</object>
              </field>
              <field  name="sourcePath"><string>war:/conf/wcm/artifacts/site-resources/acme-templates/Searchbox.xml</string></field>
            </object>
          </object-param>
          <object-param>        
            <name>Portal navigation data</name>
            <description>Deployment Descriptor</description>
            <object type="org.exoplatform.services.deployment.DeploymentDescriptor">
              <field  name="target">
              	<object type="org.exoplatform.services.deployment.DeploymentDescriptor$Target">
              		<field  name="repository"><string>repository</string></field>
              		<field  name="workspace"><string>collaboration</string></field>
              		<field  name="nodePath"><string>/sites content/live/{portalName}/web contents/site artifacts</string></field>
              	</object>
              </field>
              <field  name="sourcePath"><string>war:/conf/wcm/artifacts/site-resources/acme-templates/Navigation.xml</string></field>
            </object>
          </object-param>
          <object-param>        
            <name>Portal footer data</name>
            <description>Deployment Descriptor</description>
            <object type="org.exoplatform.services.deployment.DeploymentDescriptor">
              <field  name="target">
              	<object type="org.exoplatform.services.deployment.DeploymentDescriptor$Target">
              		<field  name="repository"><string>repository</string></field>
              		<field  name="workspace"><string>collaboration</string></field>
              		<field  name="nodePath"><string>/sites content/live/{portalName}/web contents/site artifacts</string></field>
              	</object>
              </field>
              <field  name="sourcePath"><string>war:/conf/wcm/artifacts/site-resources/acme-templates/Footer.xml</string></field>
            </object>
          </object-param>
          <object-param>        
            <name>Portal introduce data</name>
            <description>Deployment Descriptor</description>
            <object type="org.exoplatform.services.deployment.DeploymentDescriptor">
              <field  name="target">
              	<object type="org.exoplatform.services.deployment.DeploymentDescriptor$Target">
              		<field  name="repository"><string>repository</string></field>
              		<field  name="workspace"><string>collaboration</string></field>
              		<field  name="nodePath"><string>/sites content/live/{portalName}/web contents/site artifacts</string></field>
              	</object>
              </field>
              <field  name="sourcePath"><string>war:/conf/wcm/artifacts/site-resources/acme-templates/Introduce.xml</string></field>
            </object>
          </object-param>
          <object-param>        
            <name>Portal stylesheet data</name>
            <description>Deployment Descriptor</description>
            <object type="org.exoplatform.services.deployment.DeploymentDescriptor">
              <field  name="target">
              	<object type="org.exoplatform.services.deployment.DeploymentDescriptor$Target">
              		<field  name="repository"><string>repository</string></field>
              		<field  name="workspace"><string>collaboration</string></field>
              		<field  name="nodePath"><string>/sites content/live/{portalName}/css</string></field>
              	</object>
              </field>
              <field  name="sourcePath"><string>war:/conf/wcm/artifacts/site-resources/acme-templates/StylesheetGreen.xml</string></field>
            </object>
          </object-param>
          <object-param>        
            <name>Portal images data</name>
            <description>Deployment Descriptor</description>
            <object type="org.exoplatform.services.deployment.DeploymentDescriptor">
              <field  name="target">
              	<object type="org.exoplatform.services.deployment.DeploymentDescriptor$Target">
              		<field  name="repository"><string>repository</string></field>
              		<field  name="workspace"><string>collaboration</string></field>
              		<field  name="nodePath"><string>/sites content/live/{portalName}/medias/images</string></field>
              	</object>
              </field>
              <field  name="sourcePath"><string>war:/conf/wcm/artifacts/site-resources/acme-templates/Images.xml</string></field>
            </object>
          </object-param>
        </init-params>  
      </component-plugin> 
   </external-component-plugins>
   
</configuration>